(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{153:function(e,t,n){},191:function(e,t,n){},211:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),s=n(11),r=n.n(s),i=(n(153),n(13)),o=n(129),l=n(14),d=n(275),j=n(131),m=n(276),u=n(271),b=n(21),h=n(16),x=n(116),O=n(117),f=n.n(O),g=n(258),p=n(282),v=n(260),y=n(261),w=n(216),N=n(262),k=n(263),C=n(122),I=n.n(C),S=n(124),B=n.n(S),T=n(264),D=n(123),R=n.n(D),W=n(2),E=Object(g.a)({list:{width:250,padding:0}});var M=function(e){var t=e.status,n=e.setSideDrawer,c=e.changeMode,s=Object(a.useState)(!0),r=Object(i.a)(s,2),o=r[0],l=r[1],d=Object(a.useState)(window.matchMedia("(prefers-color-scheme: dark)").matches),j=Object(i.a)(d,2),m=j[0],u=j[1],b=E();return Object(a.useEffect)((function(){l(t)}),[t]),Object(a.useEffect)((function(){c(m)}),[m]),Object(W.jsx)("div",{style:{width:"auto"},onClick:function(){n(!1),l(!1)},children:Object(W.jsxs)(p.a,{anchor:"left",open:o,children:[Object(W.jsx)(v.a,{className:b.list,children:Object(W.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[Object(W.jsx)("img",{src:"./logo192.png",width:"80",height:"80",alt:"CR CHAT"}),Object(W.jsx)("h3",{children:"CR CHAT"})]})}),Object(W.jsx)(y.a,{}),Object(W.jsx)(v.a,{className:b.list,children:Object(W.jsxs)(w.a,{button:!0,children:[Object(W.jsx)(N.a,{children:Object(W.jsx)(I.a,{})}),Object(W.jsx)(k.a,{primary:"Home"})]})}),Object(W.jsx)(y.a,{}),Object(W.jsx)(v.a,{className:b.list,children:Object(W.jsxs)(w.a,{button:!0,children:[Object(W.jsx)(N.a,{children:Object(W.jsx)(R.a,{})}),Object(W.jsx)(k.a,{primary:"Dark mode"}),Object(W.jsx)(T.a,{name:"checkedB",color:"primary",onChange:function(e){u(e.target.checked)},checked:m})]})}),Object(W.jsx)(y.a,{}),Object(W.jsx)(v.a,{className:b.list,children:Object(W.jsxs)(w.a,{button:!0,children:[Object(W.jsx)(N.a,{children:Object(W.jsx)(B.a,{})}),Object(W.jsx)(k.a,{primary:"Info"})]})}),Object(W.jsx)(y.a,{})]})})},L=n(283),U=n(265),A=n(59),F=Object(g.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff",position:"fixed",width:"100vw",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"}}}));function q(e){var t=e.reason,n=F(),a=c.a.useState(!0),s=Object(i.a)(a,2),r=s[0];s[1];return Object(W.jsx)("div",{children:Object(W.jsxs)(L.a,{className:n.backdrop,open:r,children:[Object(W.jsx)(U.a,{color:"inherit"}),Object(W.jsx)(A.a,{style:{marginTop:"2rem"},variant:"subtitle2",children:t})]})})}n(191);var G=n(214);function H(e){var t=e.name,n=e.time,a=e.msg;return Object(W.jsx)("div",{className:"msg",children:Object(W.jsxs)("div",{className:"bubble",children:[Object(W.jsxs)("div",{className:"txt",children:[Object(W.jsx)("span",{className:"name",children:t}),Object(W.jsx)("span",{className:"timestamp",children:n}),Object(W.jsx)("span",{className:"message",children:a})]}),Object(W.jsx)("div",{className:"bubble-arrow"})]})})}function P(e){var t=e.time,n=e.msg;return Object(W.jsx)("div",{className:"msg",children:Object(W.jsx)("div",{className:"bubble follow",children:Object(W.jsxs)("div",{className:"txt",children:[Object(W.jsx)("span",{className:"timestamp",children:t}),Object(W.jsx)("span",{className:"message follow",children:n})]})})})}function z(e){var t=e.name,n=e.time,a=e.msg;return Object(W.jsx)("div",{className:"msg",children:Object(W.jsxs)("div",{className:"bubble alt",children:[Object(W.jsxs)("div",{className:"txt",children:[Object(W.jsx)("span",{className:"name alt",children:t}),Object(W.jsx)("span",{className:"timestamp",children:n}),Object(W.jsx)("p",{className:"message",children:a})]}),Object(W.jsx)("div",{className:"bubble-arrow alt"})]})})}function Y(e){var t=e.time,n=e.msg;return Object(W.jsx)("div",{className:"msg",children:Object(W.jsx)("div",{className:"bubble altfollow",children:Object(W.jsxs)("div",{className:"txt",children:[Object(W.jsx)("span",{className:"timestamp",children:t}),Object(W.jsx)("p",{className:"message follow",children:n})]})})})}function J(e){var t=e.text;return Object(W.jsx)(G.a,{style:{padding:".1rem",paddingLeft:"1rem",paddingRight:"1rem",display:"flex",alignItems:"center",justifyContent:"center",margin:"auto",width:"45%",opacity:"0.7",marginTop:".75rem",marginBottom:".75rem"},children:t})}var Z,$=n(266),_=n(267),K=n(217),Q=n(125),V=n.n(Q),X=n(126),ee=n.n(X),te=n(127),ne=n.n(te),ae=n(277),ce=n(133),se=n(268),re=Object(g.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},toolbar:{minHeight:100,maxHeight:100,alignItems:"flex-start",paddingTop:e.spacing(1),paddingBottom:e.spacing(2)},title:{flexGrow:1,textAlign:"center",fontFamily:"'Bree Serif', serif"},header:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},chatBody:{zIndex:"-1",marginTop:"100px",height:"80vh",overflowY:"scroll"}}})),ie=Object(x.io)("https://crossroads-chat.herokuapp.com/");var oe=function(e){var t,n=e.logoutUser,c=e.getUserData,s=e.changeMode,r=Object(a.useState)([]),o=Object(i.a)(r,2),l=o[0],d=o[1],j=Object(a.useState)(!1),m=Object(i.a)(j,2),u=m[0],x=m[1],O=Object(a.useState)(""),g=Object(i.a)(O,2),p=g[0],v=g[1],y=Object(a.useState)(!1),w=Object(i.a)(y,2),N=w[0],k=w[1],C=Object(a.useState)(""),I=Object(i.a)(C,2),S=I[0],B=I[1],T=re(),D=function(){k(null)};Object(a.useEffect)((function(){ie.on("connecting",(function(){v("Connecting... Get ready for your entry..!")})),ie.on("connect",(function(){v(!1)})),ie.on("reconnecting",(function(){v("Reconnecting... Get ready for your entry..!")})),ie.on("reconnect_error",(function(){v("Ooops..! Reconnecting..!")})),ie.on("reconnect",(function(){v("Done..! Reconnected to the Server..!"),window.location.reload()})),ie.on("connect_error",(function(e){v(""+e)})),ie.on("disconnect",(function(){v("Something went wrong... Reconnecting..!")}))}),[]);var R=function(e){var t=e.itm;return console.log(t),"static"===t.type&&c().userId===t.userId&&"connect"===t.reason?Object(W.jsx)(J,{text:"You Joined"}):"static"===t.type&&"connect"===t.reason?Object(W.jsx)(J,{text:"".concat(t.name," Joined")}):"static"===t.type&&"disconnect"===t.reason?Object(W.jsx)(J,{text:"".concat(t.name," Left")}):"message"===t.type&&c().userId===t.userId?Object(W.jsx)(z,{name:"You",msg:t.msg,time:t.time}):"message"===t.type?Object(W.jsx)(H,{name:t.name,msg:t.msg,time:t.time}):"secondary"===t.type&&c().userId===t.userId?Object(W.jsx)(Y,{msg:t.msg,time:t.time}):"secondary"===t.type?Object(W.jsx)(P,{msg:t.msg,time:t.time}):Object(W.jsx)(J,{text:"Someting went wrong. You need to reload or reenter.!"})};return Object(a.useEffect)((function(){ie.on("connect",(function(){ie.emit("userConnected",c()),ie.on("userConnect",(function(e){d((function(t){return[].concat(Object(h.a)(t),[e])}))})),ie.on("userDisconnect",(function(e){d((function(t){return[].concat(Object(h.a)(t),[e])}))})),ie.on("message",(function(e){Z===e.userId?(e.type="secondary",d((function(t){return[].concat(Object(h.a)(t),[e])}))):(e.type="message",d((function(t){return[].concat(Object(h.a)(t),[e])})));var t=document.getElementById("chatBody");t.scrollTo({top:t.scrollHeight,behavior:"smooth"}),Z=e.userId}))}))}),[]),Object(W.jsxs)("div",{className:T.root,children:[p&&Object(W.jsx)(q,{reason:p}),Object(W.jsx)(M,{status:u,changeMode:s,setSideDrawer:x}),Object(W.jsx)($.a,{position:"fixed",color:"inherit",style:{borderBottomLeftRadius:"1rem",borderBottomRightRadius:"1rem"},children:Object(W.jsxs)(_.a,{className:T.toolbar,children:[Object(W.jsx)(K.a,{edge:"start",className:T.menuButton,color:"inherit","aria-label":"open drawer",onClick:function(){x(!0)},children:Object(W.jsx)(V.a,{})}),Object(W.jsx)("div",{className:T.header,children:Object(W.jsx)(A.a,{className:T.title,variant:"h4",noWrap:!0,children:Object(W.jsx)("img",{src:"./logo192.png",width:"80",height:"80",alt:"CR CHAT"})})}),Object(W.jsx)(K.a,{onClick:function(e){k(e.currentTarget)},"aria-label":"display more actions",edge:"end",color:"inherit",children:Object(W.jsx)(ee.a,{})}),Object(W.jsx)(ce.a,{id:"simple-menu",keepMounted:!0,anchorEl:N,open:Boolean(N),onClose:D,children:Object(W.jsx)(se.a,{onClick:function(){D(),n()},children:"Logout"})})]})}),Object(W.jsx)("div",{id:"chatBody",className:T.chatBody,children:l.map((function(e,t){return Object(W.jsx)(R,{itm:e},t)}))}),Object(W.jsxs)("div",{style:{bottom:0,position:"sticky",display:"flex",alignItems:"center",justifyContent:"center"},children:[Object(W.jsx)(ae.a,(t={id:"filled-textarea",label:"Type here...!",placeholder:"Get to know everyone.",multiline:!0,variant:"filled",fullWidth:!0,rows:"1"},Object(b.a)(t,"id","textField"),Object(b.a)(t,"rowsMax","4"),Object(b.a)(t,"color","primary"),Object(b.a)(t,"value",S),Object(b.a)(t,"onChange",(function(e){B(e.target.value)})),t)),Object(W.jsx)(K.a,{style:{borderRadius:0,padding:"1rem"},onClick:function(){if(null===S||" "===S||""===S)document.getElementById("textField").focus();else{var e=c();e.msg=S,e.time=f()().format("LT"),ie.emit("massage",e),B(""),document.getElementById("textField").focus()}},children:Object(W.jsx)(ne.a,{})})]})]})},le=n(65),de=n(132),je=n(281),me=n(274),ue=n(273),be=n(280),he=n(269),xe=n(272),Oe=n(278),fe=n(128),ge=n.n(fe),pe=n(270);function ve(){return Object(W.jsxs)(A.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(W.jsx)(he.a,{color:"inherit",href:"/",children:"CR Chat"})," ",(new Date).getFullYear(),"."]})}var ye=Object(g.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));var we=function(e){var t=e.setUserData,n=(e.getUserData,ye()),a=Object(de.a)(),c=a.register,s=a.handleSubmit,r=a.formState.errors;return Object(W.jsxs)(pe.a,{component:"main",maxWidth:"xs",children:[Object(W.jsx)(u.a,{}),Object(W.jsxs)("div",{className:n.paper,children:[Object(W.jsx)(je.a,{className:n.avatar,children:Object(W.jsx)(ge.a,{})}),Object(W.jsx)(A.a,{component:"h1",variant:"h5",children:"Get In"}),Object(W.jsxs)("form",{autoComplete:"off",className:n.form,onSubmit:s((function(e){t(e)})),children:[Object(W.jsx)("input",Object(le.a)({hidden:!0,value:Math.random().toString(16).slice(2),name:"userId"},c("userId"))),Object(W.jsxs)(xe.a,{container:!0,spacing:2,children:[Object(W.jsx)(xe.a,{item:!0,xs:12,children:Object(W.jsx)(ae.a,Object(le.a)({variant:"outlined",fullWidth:!0,id:"name",label:"Name",error:Boolean(r.name),helperText:r.name?r.name.message:null},c("name",{required:"User Name is required.!",minLength:{value:4,message:"Minimum 4 charecters.!"}})))}),Object(W.jsx)(xe.a,{item:!0,xs:12,children:Object(W.jsx)(ae.a,Object(le.a)({variant:"outlined",fullWidth:!0,id:"email",label:"Email Address",error:Boolean(r.email),helperText:r.email?r.email.message:null},c("email",{required:"Email is required.!",minLength:{value:5,message:"Type a valid email address.!"},pattern:{value:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,message:"Type a valid email address.!"}})))}),Object(W.jsx)(xe.a,{item:!0,xs:12,children:Object(W.jsx)(ae.a,Object(le.a)({variant:"outlined",fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",error:Boolean(r.password),helperText:r.password?r.password.message:null},c("password",{required:"Password is required.!",minLength:{value:6,message:"Minimum 6 charecters.!"}})))}),Object(W.jsx)(xe.a,{item:!0,xs:12,children:Object(W.jsx)(ue.a,{control:Object(W.jsx)(be.a,{required:!0,value:"true",color:"default"}),label:"I am agree that I am subscribed Crossroads youtube channel."})})]}),Object(W.jsx)(me.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:n.submit,children:"Get In"}),Object(W.jsx)(xe.a,{container:!0,justify:"flex-end",children:Object(W.jsx)(xe.a,{item:!0,children:Object(W.jsx)(he.a,{href:"",variant:"body2"})})})]})]}),Object(W.jsx)(Oe.a,{mt:5,children:Object(W.jsx)(ve,{})})]})},Ne=n(194),ke="cr-chat-store";var Ce=function(){var e=Object(a.useState)(window.matchMedia("(prefers-color-scheme: dark)").matches),t=Object(i.a)(e,2),n=t[0],s=t[1],r=Object(d.a)("(prefers-color-scheme: dark)"),b=function(){return Ne.get(ke)};Object(a.useEffect)((function(){s(r)}),[Object(d.a)("(prefers-color-scheme: dark)")]);var h=c.a.useMemo((function(){return Object(j.a)({palette:{type:n?"dark":"light"}})}),[n]);return Object(W.jsx)(o.a,{children:Object(W.jsx)(l.d,{children:Object(W.jsxs)(m.a,{theme:h,children:[Object(W.jsx)(u.a,{}),Object(W.jsx)(l.b,{exact:!0,path:"/",component:oe,children:"undefined"!=typeof b()?Object(W.jsx)(W.Fragment,{children:Object(W.jsx)(oe,{changeMode:function(e){s(e)},getUserData:b,logoutUser:function(){Ne.remove(ke),window.location.reload()}})}):Object(W.jsx)(l.a,{to:"/get-in"})}),Object(W.jsx)(l.b,{path:"/get-in",component:we,children:"undefined"==typeof b()?Object(W.jsx)(we,{setUserData:function(e){Ne.set(ke,e),window.location.reload()},getUserData:b}):Object(W.jsx)(l.a,{to:"/"})})]})})})},Ie=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Se(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Be=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,286)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),s(e),r(e)}))};r.a.render(Object(W.jsx)(c.a.StrictMode,{children:Object(W.jsx)(Ce,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");Ie?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Se(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):Se(t,e)}))}}(),Be()}},[[211,1,2]]]);
//# sourceMappingURL=main.3e834dfd.chunk.js.map